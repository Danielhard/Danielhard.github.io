(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{222:function(e,t,s){"use strict";s.r(t);var n=s(0),o=Object(n.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"linux免密远程登录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#linux免密远程登录","aria-hidden":"true"}},[e._v("#")]),e._v(" Linux免密远程登录")]),e._v(" "),s("h2",{attrs:{id:"免密登陆的原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#免密登陆的原理","aria-hidden":"true"}},[e._v("#")]),e._v(" 免密登陆的原理")]),e._v(" "),s("ol",[s("li",[e._v("走SSL协议，ssh包含了SSL协议，ssh前身telnet协议，电话拨号。ssh为加密的telnet。（类似于https和http的区别）")]),e._v(" "),s("li",[e._v("telnet时期需要modem（接入设备）。之前传输最快56K。传输为音频信号。未加密，传输为明文。")]),e._v(" "),s("li",[e._v("SSL协议需要交换密钥，使用不对称加密方式。生成两个密钥，一个公钥，一个私钥。")]),e._v(" "),s("li",[e._v("登录过程需要建立TLS加密链接，服务器传过来一个公钥加密后的，传给客户端，客户端用私钥加密。")])]),e._v(" "),s("h2",{attrs:{id:"配置免密登陆的步骤"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置免密登陆的步骤","aria-hidden":"true"}},[e._v("#")]),e._v(" 配置免密登陆的步骤")]),e._v(" "),s("ol",[s("li",[e._v("生成秘钥对")])]),e._v(" "),s("blockquote",[s("p",[e._v('ssh-keygen -t rsa -C "你自己的名字" -f "你自己的名字_rsa"')])]),e._v(" "),s("p",[e._v("生成过程中会询问问题，第一个询问是否使用密钥时候输入密码，第二次再次输入，两次回车跳过")]),e._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[e._v('上传配置公钥\n上传公钥到服务器对应账号的home路径下的.ssh/中 ( ssh-copy-id -i "公钥文件名" 用户名@服务器ip或域名 ) 配置公钥文件访问权限为 600')])]),e._v(" "),s("blockquote",[s("p",[e._v('ssh-copy-id -i "公钥文件名" 用户名@服务器ip或域名\n-i指定你的密钥文件  共钥名字')])]),e._v(" "),s("ul",[s("li",[e._v("添加到的位置\n->> 服务器下的.ssh文件夹下面 authorized.keys")])]),e._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[e._v("配置本地私钥")])]),e._v(" "),s("ul",[s("li",[e._v("把第一步生成的私钥复制到你的home目录下的.ssh/ 路径下")]),e._v(" "),s("li",[e._v("配置你的私钥文件访问权限为 600")])]),e._v(" "),s("p",[e._v("这时候已经可以使用你的私钥进行免密登陆了")]),e._v(" "),s("blockquote",[s("p",[e._v("ssh -i 私钥名字 root@服务器地址")])]),e._v(" "),s("p",[e._v("但是显得过于长了")]),e._v(" "),s("ol",{attrs:{start:"4"}},[s("li",[e._v("免密登陆功能的本地配置文件")])]),e._v(" "),s("ul",[s("li",[e._v("编辑自己home目录的.ssh/ 路径下的config文件")]),e._v(" "),s("li",[e._v("配置config文件的访问权限为 644")])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("# 多主机配置\nHost gateway-produce\nHostName IP或绑定的域名\nPort 22\nHost node-produce\nHostName IP或绑定的域名\nPort 22\nHost java-produce\nHostName IP或绑定的域名\nPort 22\n\nHost *-produce\nUser root\nIdentityFile ~/.ssh/produce_key_rsa\nProtocol 2\nCompression yes\nServerAliveInterval 60\nServerAliveCountMax 20\nLogLevel INFO\n\n#单主机配置\nHost evil-cloud\nUser root\nHostName IP或绑定的域名\nIdentityFile ~/.ssh/evilboy_rsa\nProtocol 2\nCompression yes\nServerAliveInterval 60\nServerAliveCountMax 20\nLogLevel INFO\n\n#单主机配置\nHost git.yideng.site\nUser git\nIdentityFile ~/.ssh/evilboy_rsa\nProtocol 2\nCompression yes\nServerAliveInterval 60\nServerAliveCountMax 20\nLogLevel INFO\n")])])])])}),[],!1,null,null,null);t.default=o.exports}}]);