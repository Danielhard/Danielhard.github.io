(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{251:function(e,a,r){"use strict";r.r(a);var t=r(0),s=Object(t.a)({},(function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"webpack-模块化打包工具-一切皆模块"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#webpack-模块化打包工具-一切皆模块","aria-hidden":"true"}},[e._v("#")]),e._v(" webpack 模块化打包工具 一切皆模块")]),e._v(" "),r("h2",{attrs:{id:"基础"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#基础","aria-hidden":"true"}},[e._v("#")]),e._v(" 基础")]),e._v(" "),r("ul",[r("li",[e._v('占位符自定义打包文件名 filename:"[name].[hash:5].js"')]),e._v(" "),r("li",[e._v("什么是loader ?\n文件预处理器")])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("  less-loader html-loader css-loader  file-loader 特定的处理方案\n")])])]),r("ul",[r("li",[e._v("sourceMap 打包后定位代码文件错误")])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("  // devtool: cheap-module-eval-source-map 开发模式 会暴露源码\n  // devtool: cheap-module-source-map 生产环境\n")])])]),r("ul",[r("li",[r("p",[e._v("HMR hot module replacement  webpack热更新")]),e._v(" "),r("p",[e._v("开启步骤\n使用webpack-dev-server 作为服务器启动\ndevServer配置中 hot:true\nplugins 中 新增 hotModuleReplaceMentPlugin\njs 模块中增加module.hot.accept 增加HMR代码")])]),e._v(" "),r("li",[r("p",[e._v("babel  -- js编辑器")]),e._v(" "),r("p",[e._v("@babel/cli shell可执行\n核心: @babel/core")]),e._v(" "),r("p",[e._v("npm install @babel/core @babel/preset-env babel-loader -D\n使用@babel/preset-env ES6+ 语法转换\n标准引入语法：箭头函数 let,const 模块等 可以转换")]),e._v(" "),r("p",[e._v("对于标准引入全局变量。部分原生对象新增的原型链上的方法。不可以(Promise map set Symbol),这时需要用polyfill(垫片)")]),e._v(" "),r("p",[e._v("@babel/polyfill  全局变量的形式将方法注入，开发类库，UI组件时，全局变量污染。\n要和core.js搭配 3.X版本")]),e._v(" "),r("p",[e._v("@babel/plugin-transform-runtime 以闭包方式注入 保证全局变量环境不被污染 (推荐)\n搭配@babel/runtime-corejs3")])])]),e._v(" "),r("h2",{attrs:{id:"稍微高级点"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#稍微高级点","aria-hidden":"true"}},[e._v("#")]),e._v(" 稍微高级点")]),e._v(" "),r("ul",[r("li",[e._v("treeShaking  依赖es6模块语法esModule  production 模式下会自动压缩，但是配置optimization.inimizer覆盖默认压缩工具，再想压缩js需要用terser-webpack-plugin")])]),e._v(" "),r("h2",{attrs:{id:"dev和pro环境区分"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#dev和pro环境区分","aria-hidden":"true"}},[e._v("#")]),e._v(" dev和pro环境区分")]),e._v(" "),r("blockquote",[r("p",[e._v("开发\ndevServer\nsourceMap\nproxy\n...\n生产\ntreeShaking\n代码压缩\n提取公共代码\n共同点\n同样的入口\n部分相同的代码处理")])]),e._v(" "),r("blockquote",[r("p",[e._v("方案\nwebpack.prod.js\nwebpack.dev.js\nwebpack.base.js   开发环境与生产环境公用的代码\n借助一个工具 webpack-merge")])]),e._v(" "),r("h2",{attrs:{id:"打包优化"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#打包优化","aria-hidden":"true"}},[e._v("#")]),e._v(" 打包优化")]),e._v(" "),r("ol",[r("li",[e._v("入口配置：entry多入口 webpack.ProvidePlugin")]),e._v(" "),r("li",[e._v("抽取公共代码：splitchunksPlugins  //webpack4 前commonChunksPlugin")]),e._v(" "),r("li",[e._v("动态加载：按需(懒)加载  @babel/plugin-syntax-dynamic-import")])]),e._v(" "),r("h2",{attrs:{id:"css代码优化"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#css代码优化","aria-hidden":"true"}},[e._v("#")]),e._v(" css代码优化")]),e._v(" "),r("p",[e._v("mini-css-extract-plugin  // 提取\noptimize-css-assets-webpack-plugin // 压缩")]),e._v(" "),r("p",[e._v("配置代码分割压缩css代码,optimization,要注意影响到js代码压缩，需要手动配置terser-webpack-plugin")]),e._v(" "),r("h2",{attrs:{id:"代码包分析工具"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#代码包分析工具","aria-hidden":"true"}},[e._v("#")]),e._v(" 代码包分析工具")]),e._v(" "),r("p",[e._v("webpack-bundle-analyzer")]),e._v(" "),r("h2",{attrs:{id:"环境判断"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#环境判断","aria-hidden":"true"}},[e._v("#")]),e._v(" 环境判断")]),e._v(" "),r("p",[e._v("yargs 判断当前环境   可以在package.json中对应的打包环境配置标志性参数  例如--env  用require(yargs-parser).argv获取")]),e._v(" "),r("p",[e._v("(require('yargs-parser')(process.argv.slice(2)).mode 可获取--mode参数 )")]),e._v(" "),r("h2",{attrs:{id:"总结"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#总结","aria-hidden":"true"}},[e._v("#")]),e._v(" 总结:")]),e._v(" "),r("p",[e._v("需要什么就安什么 loader plugin")]),e._v(" "),r("p",[e._v("注意: 版本匹配，代码，使用库")]),e._v(" "),r("p",[e._v("//核心概念 entry output loader plugin devServer HMR --watch")])])}),[],!1,null,null,null);a.default=s.exports}}]);